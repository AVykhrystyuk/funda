Taken and improved from here
https://cezarypiatek.github.io/post/why-i-dont-use-mediatr-for-cqrs/#implementing-vanilla-cqrs